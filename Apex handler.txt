Apex handler
UseCase : This use case works for Amount Distribution for each Service the customer selected for there Vehicle.



Login to the respective trailhead account and navigate to the gear icon in the top right corner.

Click on the Developer console. Now you will see a new console window.

In the toolbar, you can see FILE. Click on it and navigate to new and create New apex class.

Name the class as “AmountDistributionHandler ”.


Code: 


public class AmountDistributionHandler {

    

    public static void amountDist(list<Appointment__c> listApp){

        list<Service_records__c> serList = new list <Service_records__c>();

        

        for(Appointment__c app : listApp){

            if(app.Maintenance_service__c == true && app.Repairs__c == true && app.Replacement_Parts__c == true){

                app.Service_Amount__c = 10000;

            }

            else if(app.Maintenance_service__c == true && app.Repairs__c == true){

                app.Service_Amount__c = 5000;    

            }

            else if(app.Maintenance_service__c == true && app.Replacement_Parts__c == true){

                app.Service_Amount__c = 8000;    

            }

            else if(app.Repairs__c == true && app.Replacement_Parts__c == true){

                app.Service_Amount__c = 7000;

            }

            else if(app.Maintenance_service__c == true){

                app.Service_Amount__c = 2000;

            }

            else if(app.Repairs__c == true){

                app.Service_Amount__c = 3000;

            }

            else if(app.Replacement_Parts__c == true){

                app.Service_Amount__c = 5000;

            }

            

    }

    }

}





Trigger Handler :

How to create a new trigger :

While still in the trailhead account, navigate to the gear icon in the top right corner.

Click on developer console and you will be navigated to a new console window.

Click on File menu in the tool bar, and click on new? Trigger.

Enter the trigger name and the object to be triggered.

Name  : AmountDistribution

sObject : Appointment__c



Syntax For creating trigger :


The syntax for creating trigger is :


Trigger [trigger name] on [object name]( Before/After event)

{


}

In this project , trigger is called whenever the particular records sum exceed the threshold i.e minimum business requirement value. Then the code in the trigger will get executed.




Handler for the Appointment Object 









Code:



trigger AmountDistribution on Appointment__c (before insert, before update) {

    

    if(trigger.isbefore && trigger.isinsert || trigger.isupdate){

        AmountDistributionHandler.amountDist(trigger.new);

        

    }



}

